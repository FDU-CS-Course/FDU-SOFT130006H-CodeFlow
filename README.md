# CodeFlow for Defect Classification

## Quick Start

### Environment Setup

Backend:

```bash
uv sync
```

Then install [ripgrep](https://github.com/BurntSushi/ripgrep) and add it to your system's PATH.

Frontend (optional, for web UI):

```bash
cd web
npm install -g pnpm
pnpm install
```

### Configure

Copy `.env.example` to `.env` and fill in the values:

- `CPPCHECK_PROJECT_DIR`: The directory of the C/C++ project to be analyzed.

Copy `conf.yaml.example` to `conf.yaml` and fill in the values:

```
BASIC_MODEL:
  base_url: # The base URL of the model provider
  model: # The model name
  api_key: # The API key of the model provider
```

### Run

CLI version:

```bash
uv run main.py cppcheck --cppcheck-inline-csv "C:\CMS42\OpenSource\libav\libavcodec\a64multienc.c,353,error,legacyUninitvar,Uninitialized variable: buf"
```

Replace the `cppcheck-inline-csv` with one line of CSV format report generated by cppcheck.

Web UI:

```bash
python server.py
cd web && pnpm run dev
```